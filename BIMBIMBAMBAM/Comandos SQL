create table grados ( gradoCode INT AUTO_INCREMENT primary key , GradoName VARCHAR(255));
create table examen ( ID_EX INT NOT NULL PRIMARY KEY ,time TIMESTAMP, date DATE, categoria_ex int not null, pregunta_esp VARCHAR(255) );
create table pregunta (tipoPregunta int not null primary key , pregunta varchar (255));
alter table examen add tipoPreg int not null ,add foreign key (tipoPreg)references pregunta(tipoPregunta) on delete cascade on update cascade ;
create table subjects ( subject_id int(10)primary key );
alter table pregunta add subject_ID int (10), add foreign key (subject_ID)references subjects(subject_id) on delete cascade on update cascade ;
create table bancoPreg (banco_id int not null , tipo_banco char(20) not null ,pregunta varchar(100));
create table docentes( teaching_id int(20)not null , prof_name varchar(50),prof_id int (30));
alter table docentes add subject_id int(10), add foreign key (subject_id)references subjects(subject_id)on delete cascade on  update cascade ;
alter table bancoPreg add teaching_id int(20) not null, add foreign key (teaching_id)references  docentes(teaching_id)on delete cascade on update cascade ;
alter table docentes drop column teaching_id;
alter table docentes add teaching_id int(10) not null primary key ;
alter table bancoPreg add teaching_id int(10) not null, add foreign key (teaching_id) references docentes(teaching_id) on delete cascade on update cascade;
create table bancoPregSight (state_PR_PU int (2) not null primary key );
alter table bancoPregSight add teaching_id int(10) not null , add foreign key (teaching_id) references docentes(teaching_id) on delete cascade on update cascade ;
create table reporte( ID_reporte int(10) not null primary key );
create table estudiante(ID_estudiante varchar(15) not null primary key , student_name char(30) not null , student_lastname char(30) not null );
alter table estudiante add grado int(20), add foreign key (grado) references grados(gradoCode) on delete cascade on update cascade ;
alter table reporte add id_estudiante varchar(15), add foreign key (id_estudiante) references estudiante(id_estudiante) on delete cascade on update cascade ;
alter table reporte add id_ex  int not null , add foreign key (id_ex) references examen(id_ex) on delete cascade on update cascade ;
create table statistics ( id_results int not null primary key , est_results varchar(20) not null);
alter table statistics add id_ex int not null , add foreign key (id_ex) references examen(ID_EX) on delete cascade on update cascade;
alter table statistics add results varchar(200) not null;
create table sustentacion ( id_sust int not null primary key );
alter table sustentacion add id_estudiante varchar(15) not null , add foreign key (id_estudiante) references estudiante(ID_estudiante) on delete cascade on update cascade , add id_ex int not null , add foreign key (id_ex)references examen(ID_EX) on delete cascade on update cascade , add results varchar(200);